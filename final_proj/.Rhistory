data <- read.csv("fatal-police-shootings-data.csv")
by_gender <- data %>%
group_by(race, gender) %>%
summarise(appearances = n())
library(shiny)
library(dplyr)
library(ggplot2)
library(maps)
by_gender <- data %>%
group_by(race, gender) %>%
summarise(appearances = n())
by_race <- data %>%
group_by(race, gender) %>%
summarise(appearances = n())
rm(by_gender)
rm(by_race)
by_race <- data %>%
group_by(race, gender) %>%
summarise(shootings = n())
View(data)
runApp()
View(by_race)
runApp()
runApp()
runApp()
runApp()
fips_data <- read.csv("https://raw.githubusercontent.com/kjhealy/fips-codes/master/state_fips_master.csv")
state_abb_data <- read.csv("https://raw.githubusercontent.com/jasonong/List-of-US-States/master/states.csv")
state_abb_data$State <- tolower(state_abb_data$State)
shoot_map_data <- data %>%
select(id, armed, state, signs_of_mental_illness)
shoot_count <- shoot_map %>%
group_by(Abbreviation) %>%
summarize(count = n())
shoot_count <- shoot_map_data %>%
group_by(Abbreviation) %>%
summarize(count = n())
fips_data <- fips_data %>% select(state_abbr, fips)
shoot_map_data <- left_join(shoot_map_data, fips_data, by = c("state" = "state_abbr"))
fips_data <- fips_data %>% select(state_abbr, fips)
shoot_map_data <- left_join(shoot_map_data, fips_data, by = c("state" = "state_abbr"))
state_shapes <- map_data("state")
state_shapes <- left_join(state_shapes, state_abb_data, by = c("region" = "State"))
shoot_map <- left_join(state_shapes, shoot_map_data, by = c("Abbreviation" = "state"))
shoot_map <- left_join(shoot_map, shoot_count, by = "Abbreviation")
shoot_map_plot <- ggplot(shoot_map, aes(long, lat, group = group)) +
geom_polygon(aes(fill = count)) + coord_quickmap() +
labs(
title = "Count of Fatal Police Shootings by US State"
)
View(shoot_map_data)
runApp()
shoot_map_plot <- ggplot(shoot_map, aes(long, lat, group = group)) +
geom_polygon(aes(fill = count)) + coord_quickmap() +
labs(
title = "Count of Fatal Police Shootings by US State"
)
shoot_map_plot
library(shiny)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(maps)
shoot_count <- shoot_map_data %>%
group_by(Abbreviation) %>%
summarize(count = n())
shoot_map_plot <- ggplot(shoot_map, aes(long, lat, group = group)) +
geom_polygon(aes(fill = count)) + coord_quickmap() +
labs(
title = "Count of Fatal Police Shootings by US State"
)
shoot_map_plot
View(data)
shoot_count <- shoot_map_data %>%
group_by(Abbreviation) %>%
summarize(count = n())
shoot_count <- shoot_map %>%
group_by(Abbreviation) %>%
summarize(count = n())
runApp()
output$map <- renderPlot({
#subset <- shoot_map %>%
#filter(count)
shoot_map_plot <- ggplot(shoot_map, aes(long, lat, group = group)) +
geom_polygon(aes(fill = count)) + coord_quickmap() +
labs(
title = "Count of Fatal Police Shootings by US State"
)
})
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(by_race)
runApp()
runApp()
armed_count <- shoot_map %>%
group_by(armed) %>%
summarize(count = n()) %>% arrange(desc(count))
armed_count <- armed_count[-4,]
View(armed_count)
shoot_count_highest <- shoot_count %>%
arrange(desc(count))
by_race_high <-  by_race %>%
arrange(desc(count))
by_race_high <-  by_race %>%
arrange(desc(shootings))
View(by_race_high)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
source('~/Desktop/INFO 201/FINAL/INFO-201-Final-Project/final_proj/app.R')
source('~/Desktop/INFO 201/FINAL/INFO-201-Final-Project/final_proj/app.R')
source('~/Desktop/INFO 201/FINAL/INFO-201-Final-Project/final_proj/app.R')
runApp()
runApp()
runApp()
runApp()
runApp()
print("In our next page, we showed a bar graph that showed the number of fatal shootings spiliting up by race. This showed us that in this data, the most people
being shot were the ", by_race_high$race[1], " race and ", by_race_high$gender[1], " gender with ", by_race_high$shootings[1],
" shootings. This number is closely followed by Black Males with ", by_race_high$shootings[2], " shootings. This shows us
that Males are being shot more than females and in this particular data White Males more than Blakc Males. In our last page we
created a bar graph that depicted that manner of death.")
print("This data as a whole I believe was aliry unbiased. It was giving numbers and statistics which were not pulled out of thin air. The major issue that we had with this
data is that there were many catergories that did not have a variable in the box, like empty parts in the data. This made it
a little more diffcult when we constructed charts.")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
manner_death <- data %>%
group_by(manner_of_death, gender) %>%
summarise(occurances = n())
output$mannerBar <- renderPlot({
ggplot(name_gender(), aes(x= manner_of_death, occurances ))+
geom_bar(col = "Red")+
labs(title= "Manner of Death Bar Graph", x= "Manner of Death", y= "Occurrances")
})
output$race_bar <- renderPlot({
ggplot(gender_name(), aes(race, shootings )) +
geom_col(col = "Black", fill = input$Color) +
labs (
x = "Race",
y = "Number of Shootings",
title = "Number of Shootings by Race and Gender") +
theme(axis.text.x=element_text(angle=50, size=10, vjust=0.5))
})
runApp()
runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
manner_death <- data %>%
group_by(manner_of_death, race) %>%
summarise(occurances = n())
View(by_race)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(manner_death)
high_gender <- manner_death %>%
filter(race == input$race) %>%
arrange(desc(occurances))
high_race <- by_race %>%
filter(gender == input$gender) %>%
arrange(desc(shootings))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
View(data)
subset(data, select = -
c(name,date,age, threat_level,flee, body_camera ))
subset(data, select = -
c(name,date,age, threat_level,flee, body_camera,city ))
rm(data)
data <- read.csv("fatal-police-shootings-data.csv.zip")
subset(data, select = -
c(name,date,age, threat_level,flee, body_camera,city ))
data <- read.csv("fatal-police-shootings-data.csv.zip")
data <- read.csv("fatal-police-shootings-data.csv")
rm(data)
data <- read.csv("fatal-police-shootings-data.csv.bz2")
subset(data, select = -
c(name,date,age, threat_level,flee, body_camera,city ))
subset(state_shapes, select = -
c(subregion, order))
old_data <- read.csv("fatal-police-shootings-data.csv.bz2")
data <- subset(data, select = -
c(name,date,age, threat_level,flee, body_camera,city ))
by_race_counts <- data %>%
group_by(race) %>%
summarise(shootings = n())
by_race <- left_join(data, by_race_counts, by = "race")
rm(old_data)
runApp()
runApp()
rm(by_race_counts)
by_race <- data %>%
group_by(race) %>%
summarise(shootings = n())
runApp()
rm(data)
data <- read.csv("fatal-police-shootings-data.csv.bz2")
runApp()
by_race <- data %>%
group_by(race, gender) %>%
summarise(shootings = n())
runApp()
runApp()
