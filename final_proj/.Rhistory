data <- read.csv("fatal-police-shootings-data.csv")
by_gender <- data %>%
group_by(race, gender) %>%
summarise(appearances = n())
library(shiny)
library(dplyr)
library(ggplot2)
library(maps)
by_gender <- data %>%
group_by(race, gender) %>%
summarise(appearances = n())
by_race <- data %>%
group_by(race, gender) %>%
summarise(appearances = n())
rm(by_gender)
rm(by_race)
by_race <- data %>%
group_by(race, gender) %>%
summarise(shootings = n())
View(data)
runApp()
View(by_race)
runApp()
runApp()
runApp()
runApp()
fips_data <- read.csv("https://raw.githubusercontent.com/kjhealy/fips-codes/master/state_fips_master.csv")
state_abb_data <- read.csv("https://raw.githubusercontent.com/jasonong/List-of-US-States/master/states.csv")
state_abb_data$State <- tolower(state_abb_data$State)
shoot_map_data <- data %>%
select(id, armed, state, signs_of_mental_illness)
shoot_count <- shoot_map %>%
group_by(Abbreviation) %>%
summarize(count = n())
shoot_count <- shoot_map_data %>%
group_by(Abbreviation) %>%
summarize(count = n())
fips_data <- fips_data %>% select(state_abbr, fips)
shoot_map_data <- left_join(shoot_map_data, fips_data, by = c("state" = "state_abbr"))
fips_data <- fips_data %>% select(state_abbr, fips)
shoot_map_data <- left_join(shoot_map_data, fips_data, by = c("state" = "state_abbr"))
state_shapes <- map_data("state")
state_shapes <- left_join(state_shapes, state_abb_data, by = c("region" = "State"))
shoot_map <- left_join(state_shapes, shoot_map_data, by = c("Abbreviation" = "state"))
shoot_map <- left_join(shoot_map, shoot_count, by = "Abbreviation")
shoot_map_plot <- ggplot(shoot_map, aes(long, lat, group = group)) +
geom_polygon(aes(fill = count)) + coord_quickmap() +
labs(
title = "Count of Fatal Police Shootings by US State"
)
View(shoot_map_data)
runApp()
shoot_map_plot <- ggplot(shoot_map, aes(long, lat, group = group)) +
geom_polygon(aes(fill = count)) + coord_quickmap() +
labs(
title = "Count of Fatal Police Shootings by US State"
)
shoot_map_plot
